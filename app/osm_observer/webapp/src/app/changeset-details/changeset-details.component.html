<div class="component-container"
     *ngIf="changesetDetails">
  <div class="row">
    <div class="col-md-2">
      <button class="btn btn-secondary btn-sm pointer"
              (click)="prev(changesetDetails)"
              [disabled]="!prevChangeset">
        {{ 'PREVIOUS' | translate }}
      </button>
    </div>
    <div class="col-md-8 text-center">
      <h4 class="">{{ 'CHANGESET DETAILS' | translate }}</h4>
    </div>
    <div class="col-md-2 text-right">
      <button class="btn btn-secondary btn-sm pointer"
              (click)="next(changesetDetails)"
              [disabled]="!nextChangeset">
        {{ 'NEXT' | translate }}
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-md-2">
      <dl>
        <dt>{{ 'CLOSED AT' | translate }}</dt>
        <dd>{{ changesetDetails.closedAt | date:'d.M.y HH:mm:ss'}}
      </dl>
    </div>
    <div class="col-md-2">
      <dl>
        <dt>{{ 'OSM ID' | translate }}</dt>
        <dd>
          <a href="http://www.openstreetmap.org/changeset/{{ changesetDetails.osmId }}"
             target="_blank">
            {{ changesetDetails.osmId }}
          </a>
        </dd>
      </dl>
    </div>
    <div class="col-md-2">
      <dl>
        <dt>{{ 'USERNAME' | translate }}</dt>
        <dd>
          <a href="http://www.openstreetmap.org/user/{{ changesetDetails.username }}"
             target="_blank">
            {{ changesetDetails.username }}
          </a>
        </dd>
      </dl>
    </div>
    <div class="col-md-2">
      <dl>
        <dt>{{ 'CHANGES' | translate }}</dt>
        <dd>{{ changesetDetails.numChanges }}</dd>
      </dl>
    </div>
    <div class="col-md-2">
      <dl>
        <dt>{{ 'SCORE' | translate }}</dt>
        <dd>{{ changesetDetails.sumScore }}</dd>
      </dl>
    </div>
    <div class="col-md-2">
      <dl>
        <dt>{{ 'STATUS' | translate }}</dt>
        <dd>{{ reviewStatus[changesetDetails.status] }}</dd>
      </dl>
    </div>
  </div>
</div>

<div class="row"
     *ngIf="changesetDetails">
  <div class="col-md-6">
    <changeset-comment-list [id]="changesetDetails.osmId"></changeset-comment-list>
  </div>
  <div class="col-md-6">
    <div class="component-container">
      <h4>{{ 'TAGS' | translate }}</h4>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>{{ 'KEY' | translate }}</th>
            <th>{{ 'VALUE' | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let obj of changesetDetails.tags | keyValueList">
            <td>{{ obj.key }}</td>
            <td>{{ obj.value }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="row"
     *ngIf="changesetDetails">
  <div class="col-md-6">
    <div class="component-container">
      <h4>{{ 'MODIFICATIONS' | translate }}</h4>
      <table class="table">
        <thead>
          <tr>
            <th></th>
            <th>{{ 'ADDED' | translate }}</th>
            <th>{{ 'MODIFIED' | translate }}</th>
            <th>{{ 'DELETED' | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th>{{ 'NODES' | translate }}</th>
            <td>{{ changesetDetails.nodesAdd }}</td>
            <td>{{ changesetDetails.nodesModify }}</td>
            <td>{{ changesetDetails.nodesDelete }}</td>
          </tr>
          <tr>
            <th>{{ 'WAYS' | translate }}</th>
            <td>{{ changesetDetails.waysAdd }}</td>
            <td>{{ changesetDetails.waysModify }}</td>
            <td>{{ changesetDetails.waysDelete }}</td>
          </tr>
          <tr>
            <th>{{ 'RELATIONS' | translate }}</th>
            <td>{{ changesetDetails.relationsAdd }}</td>
            <td>{{ changesetDetails.relationsModify }}</td>
            <td>{{ changesetDetails.relationsDelete }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-6">
    <changeset-changes-list [id]="changesetDetails.osmId"></changeset-changes-list>
  </div>
</div>

<div class="row"
     *ngIf="changesetDetails">
  <div class="col-md-8">
    <review-list [id]="changesetDetails.id"></review-list>
  </div>
  <div class="col-md-4">
    <review-form [id]="changesetDetails.id"></review-form>
  </div>
</div>
