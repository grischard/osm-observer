<form name="bot-config-form"
      novalidate
      (ngSubmit)="onSubmit()"
      #botConfigForm="ngForm">
  <div class="form-group"
       [class.has-danger]="hasFormError(botConfigForm.controls.botName)">
    <label class="form-control-label"
           for="bot-name">
      {{ 'BOT NAME' | translate }}
    </label>
    <select class="form-control"
            id="bot-name"
            name="bot-name"
            required
            [class.form-control-danger]="hasFormError(botConfigForm.controls.botName)"
            [(ngModel)]="model.botName"
            (ngModelChange)="setBotConfig()">
      <option *ngFor="let botName of botNames"
              [value]="botName">
        {{ botName }}
      </option>
    </select>
  </div>
  <div class="form-check"
       *ngIf="model.botName"
       [class.has-danger]="hasFormError(botConfigForm.controls.active)">
    <label class="form-check-label">
      <input class="form-check-input"
             type="checkbox"
             name="active"
             [(ngModel)]="model.active" />
      {{ 'ACTIVE' | translate }}
    </label>
  </div>
  <ng-container [ngSwitch]="model.botName">
    <ng-container *ngSwitchCase="'UsernameReviewBot'">
      <div class="form-group"
           [class.has-danger]="hasFormError(botConfigForm.controls.username)">
        <label class="form-control-label"
               for="username">
          {{ 'USERNAME' | translate }}
        </label>
        <input type="text"
               id="username"
               name="username"
               class="form-control"
               required
               [(ngModel)]="model.config.username" />
      </div>
    </ng-container>
    <ng-container *ngSwitchCase="'TagValueReviewBot'">
      <div class="form-group"
           [class.has-danger]="hasFormError(botConfigForm.controls.tag)">
        <label class="form-control-label"
               for="tag">
          {{ 'TAG' | translate }}
        </label>
        <input type="text"
               id="tag"
               name="tag"
               class="form-control"
               required
               [(ngModel)]="model.config.tag" />
      </div>
      <div class="form-group"
           [class.has-danger]="hasFormError(botConfigForm.controls.value)">
        <label class="form-control-label"
               for="value">
          {{ 'VALUE' | translate }}
        </label>
        <input type="text"
               id="value"
               name="value"
               class="form-control"
               required
               [(ngModel)]="model.config.value" />
      </div>
    </ng-container>
    <div class="form-group"
         [class.has-danger]="hasFormError(botConfigForm.controls.comment)"
         *ngIf="model.botName">
      <label class="form-control-label"
             for="comment">
        {{ 'COMMENT' | translate }}
      </label>
      <textarea class="form-control"
                name="comment"
                id="comment"
                required
                [(ngModel)]="model.config.comment">
      </textarea>
    </div>
    <div class="form-group"
         *ngIf="model.botName"
         [class.has-danger]="hasFormError(botConfigForm.controls.score)"
         >
      <label class="form-control-label"
             for="score">
        {{ 'SCORE' | translate }} "{{ score.valid }}"
      </label>
      <input type="number"
             id="score"
             name="score"
             class="form-control"
             min="-100"
             max="100"
             required
             [class.form-control-danger]="hasFormError(botConfigForm.controls.score)"
             [(ngModel)]="model.config.score" />
    </div>
  </ng-container>
  <button type="submit"
          class="btn btn-primary"
          [disabled]="!botConfigForm.form.valid">
    <span *ngIf="update">{{ 'UPDATE' | translate }}</span>
    <span *ngIf="!update">{{ 'ADD' | translate }}</span>
  </button>
  <button type="button"
          class="btn btn-secondary"
          (click)="onCancel()">
    {{ 'CANCEL' | translate }}
  </button>
</form>
